# 브레인 스토밍

### 이상치 인식 기준

- ESD: 3-sigma : 일변량 자료들 중 평균 ± 3*표준편차를 벗어나는 것들을 비정상이라 규정(정규분포 기반)
- 기하평균 - 2.5*표준편차 < data < 기하평균 + 2.5*표준편차
- IQR: Box-plot : (제3분위수 - 제1분위수) *1.5 + (제1분위수) < x 이거나 제3분위수 - 제1분위수) *1.5 + (제3분위수) > x이면 이상치



### 이상치 처리 방법

- 절단(제거) - 데이터 손실율이 크당
- 그 기준 밖을 넘어가는 데이터 중 10% 상하위를 제거
- 기준을 벗어나는 애들을 하한, 상한값으로 대체

<hr>

# 자료 조사

고려사항 1. 데이터 특성에 따라 이상치 기준이 달라야 하는지

고려사항 2. 결측치와 이상치가 특정 %를 초과할 경우, 해당 표본 제거 or 해당 변수 아예 제거 *(데이터 손실율이 큼)*

→  참고 자료: https://hodubab.tistory.com/297 

고려사항 3. 단변량 자료와 다변량 자료의 이상치 선정 기준 상이 → 처리할 column을 단변량 기준, 다변량 기준으로 나누어야 할까?

→ 논문: https://repository.hira.or.kr/bitstream/2019.oak/2240/2/이상치 탐색을 위한 통계적 방법.pdf 

 <hr>

#### 단변량 처리 방법 

> 후보 
>
> z-score, IQR, modified z-score, modified IQR)



> **Z-SCORE(ESD)**
>
> z=(x-μ)/σ (z-score)를 이용하여 정규분포화 시킴
>
> Z값 3.0 이상은 전체 관측치의 0.13% 정도로 매우 드물다
>
> 더 엄격한 기준 → 미 국립표준 기술 연구소 (NIST, National Institute of Standards and Technology)의 경우 **4.0**을 제시하고 있으며 연구자에 따라서는 **3.5**를 사용할 수 있음
>
> ** 표본 수에 따라 3~4 사이로 설정 가능 (표본이 클수록 높은 Z값 설정하여 더 많은 데이터를 포함)
>
> `solution` : Z값 기준을 설정하고 그에 따라 나오는 이상치 개수를 보고 Z값 조정하기
>
> **[출처]** [이상치의 처리 (1)](https://blog.naver.com/jjy0501/221269269462)

![img](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/b696c858-3a68-43f7-a321-d22231d1ff83/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAT73L2G45O3KS52Y5%2F20211026%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20211026T023042Z&X-Amz-Expires=86400&X-Amz-Signature=965089263a13f83082910e0ce6c7d2d3c56747521bb3d09ead27527cbe84094e&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22Untitled.png%22)



> IQR 
>
> (제3분위수 - 제1분위수) *1.5 + (제1분위수) < x 이거나 제3분위수 - 제1분위수) *1.5 + (제3분위수) > x이면 이상치
>
> 자료 출처
>
> - https://blog.naver.com/jjy0501/221279932324 



> 그 외 단변량, 다변량 이상치 제거 기준을 상세히 적어둔 글 
>
> - https://repository.hira.or.kr/bitstream/2019.oak/1659/2/이상치 탐색을 위한 통계적 방법과 활용 방안.pdf 

<hr>

# 결론

- [ ] 이상치 제거 기준 후보를 제시할건지 말건지
- [ ] 다변량 기준은?
- [ ] 단변량 기준은?
- [x] 범주형 이상치 기준?
  - 범주형 column 발견 시 다른 모든 열과 상관관계 분석하나요? (수치형이더라도?)
    - 네. 수치 범위로 군집화하여 분석 가능합니다.
  - 뇌피셜: 범주형 column마다 다른 모든 열과 상관관계를 분석한 후 군집화했을 때 벗어난 값들을 이상치로 분류하자
  - 범주형 column 끼리만 고려한다면? → 전혀 관계없는 범주형 데이터끼리만 존재할 수도 있다.
    - so 특정 범주형과 상관계수가 xx 이상인 변수들끼리만 군집화해서 분석!!!
  - 범주형 데이터가 카이제곱 검정 사용하는게 맞나요??
    - 아니오, 카이제곱 검정은 자료 분포 예상을 확인하는 용도입니다.
      - 교차 분석
        - 독립성 검정(변수간 상관관계 분석), 동일성 검정
      - 적합도 검정
  - **범주형은 `null` 값만 해결..**